var x=z();window.DateX=x;function z(){let u=j(b),h={get:(s,o)=>!s[o]&&u[o]?.(s)||r(s,o),set:(s,o,f)=>u[o]?.(s,f)||s[o]};return function(s,o){let f=s?.locale||s?.timeZone,i=f?new Date:new Date(Date.parse(s)),D=isNaN(i)?new Date(Date.now()):i,c=b(D);return(f||o)&&(c.locale=f?s:o),c};function b(s){return new Proxy(s,h)}function r(s,o){return o in s&&s[o]instanceof Function?s[o].bind(s):s[o]}}function O(){let[u,h,b,r]=["2-digit","numeric","long","short"],s={fixed:{MM:{month:b},M:{month:r},m:{month:h},mm:{month:u},yyyy:{year:h},yy:{year:u},WD:{weekday:b},wd:{weekday:r},d:{day:h},dd:{day:u},h:{hour:h},hh:{hour:u},mi:{minute:h},mmi:{minute:u},s:{second:h},ss:{second:u},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:n=>({timeZoneName:n.slice(4)}),hrc:n=>({hourCycle:`h${n.slice(4)}`}),ds:n=>({dateStyle:n.slice(3)}),ts:n=>({timeStyle:n.slice(3)}),tz:n=>({timeZone:n.slice(3)}),e:n=>({era:n.slice(2)}),l:n=>({locale:n.slice(2)})}},o={...s,retrieveDyn(n){let a=n?.slice(0,n.indexOf(":"));return s.dynamic[a]&&s.dynamic[a](n)},get re(){return new RegExp(`\\b(${Object.keys(s.fixed).join("|")})\\b`,"g")}},f=(n="dtf",a=0)=>{let g=` ${n.replace(/(?<=\{)(.+?)(?=})/g,d=>`[${a++}]`).replace(/[{}]/g,"").trim()} `,p=n.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return p},formatString(d){g=d},set formatStr(d){g=d},get formatStr(){return g},get units(){return g.match(o.re)||[]},finalize(d="",F="",S="",l=""){return g.replace(/~([\d+]?)/g,"$1").replace(/dtf/,d).replace(/era/,S).replace(/dp\b|~dp\b/,F).replace(/yn\b/,l).replace(/\[(\d+?)]/g,(M,T)=>p[T].trim()).trim()}}},i=n=>n.replace(/\s+/g,""),D=(...n)=>n?.reduce((a,g)=>({...a,...o.retrieveDyn(g)||o.fixed[g]}),o.fixed.dl),c=(n,a,g)=>{let p=D(...i(g).split(",")),d=Intl.DateTimeFormat(p.locale,p).format(n);return a.finalize(d)},m=(n,a,g)=>{let p=D(...a.units.concat(i(g).split(",")).flat()),d={...o.fixed},F=(l,M)=>p[l]==="numeric"&&M.startsWith("0")?M.slice(1):M,S=Intl.DateTimeFormat(p.locale,p).formatToParts(n).reduce((l,M)=>M.type==="literal"?l:{...l,[M.type]:F(M.type,M.value)},{});return d.ms=p.fractionalSecondDigits?d.msp:d.ms,d.yyyy=S.relatedYear?d.ry:d.yyyy,a.formatStr=a.formatStr.replace(o.re,l=>S[Object.keys(d[l]).shift()]||l),a.finalize(void 0,S.dayPeriod,S.era,S.yearName)};return(n,a,g="l:default")=>/ds:|ts:/.test(g)?c(n,f(void 0),g):m(n,f(a||void 0),g)}function j(u){let h=O(),b=(e,t)=>{let y={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hour:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()};return t?Object.values(y):y},r=(e,t)=>(t&&(e.localeInfo=M(e,t)),e.localeInfo),s=(e,t)=>{t=u(t??new Date);let y=u(e);if(t){let{year:$,month:Y,date:C}=y;t.date={year:$,month:Y,date:C}}return t},o=(e,t)=>{let y=new Date(...d(t??new Date)),$=m(e,!0);return F(new Date(...d(y).concat($)))},f=(e,t)=>(e=u(e),e.locale?(e.locale?.tz&&(t={...t??{},timeZone:e.locale.tz}),e.toLocaleString(e.locale.l,t)):e.toLocaleString()),i=(e,...t)=>{let y=u(e).locale;return t.length===1?h(e,t[0],y?.formats):t.length?h(e,...t):e.toLocaleString(y?.l)},D=(e,{year:t,month:y,date:$}={})=>{let[Y,C,w]=n(e);e.setFullYear(t||Y),e.setMonth((y||C+1)-1),e.setDate($||w)},c=P(),m=e=>[e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],n=e=>[e.getFullYear(),e.getMonth(),e.getDate()],a=(e,t)=>{let y=m(e),$=t?`.${y.pop()}`.padStart(3,"0"):"";return`${y.slice(0,3).map(Y=>`${Y}`.padStart(2,"0")).join(":")}${$}`},g=function(e,{hour:t,minutes:y,seconds:$,milliseconds:Y}={}){let[C,w,I,N]=m(e);e.setHours(t??C),e.setMinutes(y??w),e.setSeconds($??I),e.setMilliseconds(Y??N)},p=(e,t)=>u(new Date(e,t+1,1,0,0,0)).yesterday.getDate(),d=e=>[e.getFullYear(),e.getMonth(),e.getDate()],F=e=>u(new Date(e)),S=H(),l=(e,...t)=>u(S(e,...t)),M=function(e,{locale:t="utc",timeZone:y="Etc/UTC"}={}){return e.localeInfo={l:t,tz:y,formats:`l:${t},tz:${y}`},e.localeInfo};return{...{clone:F,year:(e,t)=>t&&e.setFullYear(t)||e.getFullYear(),month:(e,t)=>t&&e.setMonth(t-1)||e.getMonth()+1,date:(e,t)=>t&&D(e,t)||e.getDate(e),hour:(e,t)=>t&&e.setHours(t)||e.getHours(),minutes:(e,t)=>t&&e.setMinutes(t)||e.getMinutes(),seconds:(e,t)=>t&&e.setSeconds(t)||e.getSeconds(),cloneTimeTo:e=>t=>o(e,t),cloneDateTo:e=>t=>s(e,t),time:(e,t)=>t&&g(e,t)||m(e),timeStr:e=>(t=!1)=>a(e,t),ms:(e,t)=>t&&e.setMilliseconds(t)||e.getMilliseconds(),monthName:e=>(e=u(e),e.format("MM",`l:${e.locale?.l||"utc"}`)),weekDay:e=>(e=u(e),e.format("WD",`l:${e.locale?.l||"utc"}`)),self:e=>e,local:(e,t)=>f(e,t),locale:(e,t)=>r(e,t),differenceFrom:e=>t=>c({start:e,end:t}),values:e=>t=>b(e,t),ISO:e=>e.toISOString(),daysInMonth:e=>p(e.getFullYear(),e.getMonth()),isLeapYear:e=>p(e.getFullYear(),1)===29,format:e=>(...t)=>i(e,...t)},...{addYears:e=>(t=1)=>l(e,`${t} years`),addMonths:e=>(t=1)=>l(e,`${t} months`),addWeeks:e=>(t=1)=>l(e,`${t*7} days`),addDays:e=>(t=1)=>l(e,`${t} days`),nextYear:e=>l(e,"1 year"),nextWeek:e=>l(e,"7 days"),previousWeek:e=>l(e,"subtract, 7 days"),previousYear:e=>l(e,"subtract, 1 year"),nextMonth:e=>l(e,"1 month"),previousMonth:e=>l(e,"subtract, 1 month"),tomorrow:e=>l(e,"1 day"),yesterday:e=>l(e,"subtract, 1 day"),add:e=>(...t)=>l(e,...t),subtract:e=>(...t)=>l(e,...["subtract"].concat([t]).flat())}}}function P(){let u=(r,s)=>{let o=isNaN(r),f=isNaN(s);if(o&&!f){let[i,D,c]=Array(3).fill("start and end date are not valid");return{error:!0,message:i,full:D,clean:c}}if(f){let[i,D,c]=Array(3).fill("end date not valid");return{error:!0,message:i,full:D,clean:c}}if(o){let[i,D,c]=Array(3).fill("start date not valid");return{error:!0,message:i,full:D,clean:c}}return{error:!1}},h=b();return function({start:s,end:o}={}){let f=new Date(Date.parse(s)),i=new Date(Date.parse(o)),D=u(f,i);if(D.error)return D;let c=new Date(s),m=new Date(o),n=Math.abs(m-c),a=new Date(n),g=a.getUTCFullYear()-1970,p=a.getUTCMonth(),d=a.getUTCDate()-1,F=a.getUTCHours(),S=a.getUTCMinutes(),l=a.getUTCSeconds(),M=a.getUTCMilliseconds(),T={years:g,months:p,days:d,hours:F,minutes:S,seconds:l,milliseconds:M};return T.full=h({values:T,full:!0}),T.clean=h({values:T}),T};function b(){let r=(...c)=>m=>c.reduce((n,a)=>a(n),m),s=(c,m)=>c===1?m.slice(0,-1):m;return r(({values:c,full:m})=>[Object.entries(c).filter(([n])=>/^(years|month|days|hours|minutes|seconds)/i.test(n)),m],([c,m])=>m?c:c.filter(([,n])=>m?+n:n>0),c=>c.reduce((m,[n,a])=>[...m,`${a} ${s(a,n)}`],[]),c=>c.length<1?"Dates are equal":`${c.slice(0,-1).join(", ")}${c.length>1?" and ":""}${c.slice(-1).shift()}`)}}function H(){let u=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((r,[s,o])=>({...r,[s]:o,[`${s}s`]:o}),{}),h=function(...r){if(r.length<1)return[];let s;(r[0]==="subtract"||r[0].startsWith("subtract"))&&(s=!0,r[0].startsWith("subtract")&&r.length===1&&(r=r[0].split(",")),r=r.slice(1));let o=r.length===1?r[0]?.split(/,/):r;return o&&o.length&&(r=o.map(f=>f.trim())),r.map(function(f){return f.toLowerCase().split(/\s/).map(i=>(i=i.trim(),+i?s?-i:+i:i))})};return function(r,...s){let o=h(...s);return o.length&&o.forEach(([f,i])=>{i=u[i],+f&&i&&r[`set${i}`](r[`get${i}`]()+ +f)}),r}}
