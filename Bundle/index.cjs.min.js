exports.DateX=W();function W(){let l=H(a),S={get:(n,o)=>!n[o]&&l[o]?.(n)||D(n,o),set:(n,o,d)=>l[o]?.(n,d)||n[o],ownKeys:n=>Object.getOwnPropertyNames(l),has:(n,o)=>o in l||o in n};function a(n){return new Proxy(n,S)}function D(n,o){return o in n&&n[o]instanceof Function?n[o].bind(n):n[o]}function u(n,o){let d=n?.locale||n?.timeZone,p=(n||"")instanceof Date,c=d?new Date:new Date(p?n:Date.parse(n)),m=isNaN(c)?new Date(Date.now()):c,r=a(m);return(d||o)&&(r.locale=d?n:o),r}return u.extendWith=function({name:n,fn:o,isMethod:d=!1,proxifyResult:p=!1}={}){if(!n||!o||!(o instanceof Function))return console.error("cannot extend without name and/or fn (function)");l[n]=c=>d?(...m)=>(c=a(c),p?a(o(c,...m)):o(c,...m)):p?a(o(a(c))):o(a(c))},u}function H(l){let S=L(),a=(e,t)=>{let s={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hour:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()};return t?Object.values(s):s},D=(e,{locale:t,timeZone:s}={})=>((t||s)&&(e.localeInfo=I(e,{locale:t,timeZone:s})),e.localeInfo),u=(e,t)=>{t=l(t??new Date);let s=l(e);if(t){let{year:g,month:M,date:T}=s;t.date={year:g,month:M,date:T},s.locale&&(t.locale={locale:s.locale.locale,timeZone:s.locale.timeZone})}return t},n=(e,t)=>{t=l(t??new Date);let s=l(e),{hour:g,minutes:M,seconds:T,ms:N}=s;return t.time={hour:g,minutes:M,seconds:T,milliseconds:N},s.locale&&(t.locale={locale:s.locale.locale,timeZone:s.locale.timeZone}),t},o=function(e){let s=C(e)?.replace(/l:/,"locale: ").replace(/tz:/,"timeZone: ");return e.toLocaleString()+` !!invalid locale info => ${s}`},d=e=>{e=l(e);let t={};if(!e.locale)return e.toLocaleString();e.locale?.timeZone&&(t={timeZone:e.locale.timeZone});try{return e.toLocaleString(e.locale?.locale,t)}catch{return o(e)}},p=(e,...t)=>{e=l(e);let[s,g]=[e.locale,e.timeZone],M=C(e);try{return t.length===1?S(e,t[0],M):t.length?S(e,...t):e.toLocaleString(s,g?{timeZone:g}:void 0)}catch{return o(l(e))}},c=(e,{year:t,month:s,date:g}={})=>{if(t||s||g){let[M,T,N]=i(e);return e.setFullYear(t||M),e.setMonth((s||T+1)-1),e.setDate(g||N),!0}return e.getDate()},m=A(),r=e=>[e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],i=e=>[e.getFullYear(),e.getMonth(),e.getDate()],y=(e,t)=>{let s=r(e),g=t?`.${s.pop()}`.padStart(3,"0"):"";return`${s.slice(0,3).map(M=>`${M}`.padStart(2,"0")).join(":")}${g}`},$=function(e,{hour:t,minutes:s,seconds:g,milliseconds:M}={}){if(t||s||g||M){let[T,N,Z,z]=r(e);return e.setHours(t??T),e.setMinutes(s??N),e.setSeconds(g??Z),e.setMilliseconds(M??z),!0}return r(e)},h=(e,t)=>l(new Date(e,t+1,1,0,0,0)).yesterday.getDate(),Y=e=>[e.getFullYear(),e.getMonth(),e.getDate()],b=e=>l(new Date(e)),F=P(),f=(e,...t)=>l(F(e,...t)),I=function(e,{locale:t,timeZone:s}={}){[t,s]=[t||e.localeInfo?.locale,s||e.localeInfo?.timeZone];let g=[`${t?`l:${t}`:""}`,`${s?`tz:${s}`:""}`].filter(M=>M).join(", ");return e.localeInfo={formats:g,...t?{locale:t}:{},...s?{timeZone:s}:{}},e.localeInfo},C=e=>{e=l(e);let[t,s]=[e.localeInfo?.locale,e.localeInfo?.timeZone];return[`${t?`l:${t}`:""}`,`${s?`tz:${s}`:""}`].filter(g=>g).join(", ")},j=e=>{e=l(e),delete e.localeInfo},w=function(e,t,s){return e=l(e),e.locale={locale:t,timeZone:s},e},O=function(e,t){return e=l(e),e.format(t?"MM":"WD",`l:${e.locale?.locale||"utc"}`)};return{clone:b,year:(e,t)=>t&&e.setFullYear(t)||e.getFullYear(),month:(e,t)=>t&&e.setMonth(v-1)||e.getMonth()+1,date:(e,{year:t,month:s,date:g}={})=>c(e,{year:t,month:s,date:g}),hour:(e,t)=>t&&e.setHours(t)||e.getHours(),minutes:(e,t)=>t&&e.setMinutes(t)||e.getMinutes(),seconds:(e,t)=>t&&e.setSeconds(t)||e.getSeconds(),cloneTimeTo:e=>t=>n(e,t),cloneDateTo:e=>t=>u(e,t),time:(e,{hour:t,minutes:s,seconds:g,milliseconds:M}={})=>$(e,{hour:t,minutes:s,seconds:g,milliseconds:M}),timeStr:e=>(t=!1)=>y(e,t),ms:(e,t)=>t&&e.setMilliseconds(t)||e.getMilliseconds(),monthName:e=>O(e,!0),weekDay:e=>O(e),self:e=>e,local:e=>d(e),locale:(e,{locale:t,timeZone:s}={})=>D(e,{locale:t,timeZone:s}),removeLocale:e=>()=>j(e),relocate:e=>({locale:t,timeZone:s}={})=>w(e,t,s),differenceFrom:e=>t=>m({start:e,end:t}),values:e=>t=>a(e,t),ISO:e=>e.toISOString(),daysInMonth:e=>h(e.getFullYear(),e.getMonth()),isLeapYear:e=>h(e.getFullYear(),1)===29,format:e=>(...t)=>p(e,...t),addYears:e=>(t=1)=>f(e,`${t} years`),addMonths:e=>(t=1)=>f(e,`${t} months`),addWeeks:e=>(t=1)=>f(e,`${t*7} days`),addDays:e=>(t=1)=>f(e,`${t} days`),nextYear:e=>f(e,"1 year"),nextWeek:e=>f(e,"7 days"),previousWeek:e=>f(e,"subtract, 7 days"),previousYear:e=>f(e,"subtract, 1 year"),nextMonth:e=>f(e,"1 month"),previousMonth:e=>f(e,"subtract, 1 month"),tomorrow:e=>f(e,"1 day"),yesterday:e=>f(e,"subtract, 1 day"),add:e=>(...t)=>f(e,...t),subtract:e=>(...t)=>f(e,...["subtract"].concat([t]).flat())}}function L(){let[l,S,a,D]=["2-digit","numeric","long","short"],u={fixed:{MM:{month:a},M:{month:D},m:{month:S},mm:{month:l},yyyy:{year:S},yy:{year:l},WD:{weekday:a},wd:{weekday:D},d:{day:S},dd:{day:l},h:{hour:S},hh:{hour:l},mi:{minute:S},mmi:{minute:l},s:{second:S},ss:{second:l},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:r=>({timeZoneName:r.slice(4)}),hrc:r=>({hourCycle:`h${r.slice(4)}`}),ds:r=>({dateStyle:r.slice(3)}),ts:r=>({timeStyle:r.slice(3)}),tz:r=>({timeZone:r.slice(3)}),e:r=>({era:r.slice(2)}),l:r=>({locale:r.slice(2)})}},n={...u,retrieveDyn(r){let i=r?.slice(0,r.indexOf(":"));return u.dynamic[i]&&u.dynamic[i](r)},get re(){return new RegExp(`\\b(${Object.keys(u.fixed).join("|")})\\b`,"g")}},o=(r="dtf",i=0)=>{let y=` ${r.replace(/(?<=\{)(.+?)(?=})/g,h=>`[${i++}]`).replace(/[{}]/g,"").trim()} `,$=r.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return $},formatString(h){y=h},set formatStr(h){y=h},get formatStr(){return y},get units(){return y.match(n.re)||[]},finalize(h="",Y="",b="",F=""){return y.replace(/~([\d+]?)/g,"$1").replace(/dtf/,h).replace(/era/,b).replace(/dp\b|~dp\b/,Y).replace(/yn\b/,F).replace(/\[(\d+?)]/g,(f,I)=>$[I].trim()).trim()}}},d=r=>r.replace(/\s+/g,""),p=(...r)=>r?.reduce((i,y)=>({...i,...n.retrieveDyn(y)||n.fixed[y]}),n.fixed.dl),c=(r,i,y)=>{let $=p(...d(y).split(",")),h=Intl.DateTimeFormat($.locale,$).format(r);return i.finalize(h)},m=(r,i,y)=>{let $=p(...i.units.concat(d(y).split(",")).flat()),h={...n.fixed},Y=(F,f)=>$[F]==="numeric"&&f.startsWith("0")?f.slice(1):f,b=Intl.DateTimeFormat($.locale,$).formatToParts(r).reduce((F,f)=>f.type==="literal"?F:{...F,[f.type]:Y(f.type,f.value)},{});return h.ms=$.fractionalSecondDigits?h.msp:h.ms,h.yyyy=b.relatedYear?h.ry:h.yyyy,i.formatStr=i.formatStr.replace(n.re,F=>b[Object.keys(h[F]).shift()]||F),i.finalize(void 0,b.dayPeriod,b.era,b.yearName)};return(r,i,y="l:default")=>/ds:|ts:/.test(y)?c(r,o(void 0),y):m(r,o(i||void 0),y)}function A(){let l=(D,u)=>{let n=isNaN(D),o=isNaN(u);if(n&&!o){let[d,p,c]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:d,full:p,clean:c}}if(o){let[d,p,c]=Array(3).fill("end date not valid");return{error:!0,message:d,full:p,clean:c}}if(n){let[d,p,c]=Array(3).fill("start date not valid");return{error:!0,message:d,full:p,clean:c}}return{error:!1}},S=a();return function({start:u,end:n}={}){let o=new Date(Date.parse(u)),d=new Date(Date.parse(n)),p=l(o,d);if(p.error)return p;let c=new Date(u),m=new Date(n),r=Math.abs(m-c),i=new Date(r),y=i.getUTCFullYear()-1970,$=i.getUTCMonth(),h=i.getUTCDate()-1,Y=i.getUTCHours(),b=i.getUTCMinutes(),F=i.getUTCSeconds(),f=i.getUTCMilliseconds(),I={years:y,months:$,days:h,hours:Y,minutes:b,seconds:F,milliseconds:f};return I.full=S({values:I,full:!0}),I.clean=S({values:I}),I};function a(){let D=(...c)=>m=>c.reduce((r,i)=>i(r),m),u=(c,m)=>c===1?m.slice(0,-1):m;return D(({values:c,full:m})=>[Object.entries(c).filter(([r])=>/^(years|month|days|hours|minutes|seconds)/i.test(r)),m],([c,m])=>m?c:c.filter(([,r])=>m?+r:r>0),c=>c.reduce((m,[r,i])=>[...m,`${i} ${u(i,r)}`],[]),c=>c.length<1?"Dates are equal":`${c.slice(0,-1).join(", ")}${c.length>1?" and ":""}${c.slice(-1).shift()}`)}}function P(){let l=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((a,[D,u])=>({...a,[D]:u,[`${D}s`]:u}),{}),S=function(...a){if(a.length<1)return[];let D;a[0].startsWith("subtract")&&(D=!0,a[0].startsWith("subtract")&&a.length===1&&(a=a[0].split(",")),a=a.slice(1));let u=a.length===1?a[0]?.split(/,/):a;return u&&u.length&&(a=u.map(n=>n.trim())),a.map(function(n){return n.toLowerCase().split(/\s/).map(o=>(o=o.trim(),+o?D?-o:+o:o))})};return function(a,...D){let u=S(...D);return u.length&&u.forEach(([n,o])=>{o=l[o],+n&&o&&a[`set${o}`](a[`get${o}`]()+ +n)}),a}}
